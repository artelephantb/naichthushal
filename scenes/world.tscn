[gd_scene load_steps=12 format=4 uid="uid://bnwiqiqd7oa4x"]

[ext_resource type="Script" uid="uid://7eqtwf8mgdna" path="res://scripts/world.gd" id="1_71j4m"]
[ext_resource type="Texture2D" uid="uid://cwlfax5vlwjji" path="res://assets/textures/blocks/tilesheet.png" id="2_k0juu"]
[ext_resource type="PackedScene" uid="uid://db5rfjktal5y4" path="res://scenes/player.tscn" id="3_71j4m"]
[ext_resource type="Theme" uid="uid://c6eu7tlmewujv" path="res://themes/menus.tres" id="5_4mrxx"]
[ext_resource type="PackedScene" uid="uid://cb4l7jnphi0b1" path="res://scenes/block_selection.tscn" id="5_71j4m"]
[ext_resource type="FontFile" uid="uid://53ssaml16qni" path="res://fonts/raster_forge_font.ttf" id="5_i7141"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_lbhrr"]
resource_name = "blocks"
texture = ExtResource("2_k0juu")
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:0/0/custom_data_1 = 10
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0/custom_data_1 = 8
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0/custom_data_1 = 40
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:0/0/custom_data_1 = 5
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
4:0/0/custom_data_1 = 60
5:0/0 = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:0/0/custom_data_1 = -2
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
6:0/0/custom_data_1 = 30
7:0/0 = 0
7:0/0/custom_data_1 = 15
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0

[sub_resource type="TileSet" id="TileSet_lbhrr"]
physics_layer_0/collision_layer = 1
custom_data_layer_0/name = "Type"
custom_data_layer_0/type = 4
custom_data_layer_1/name = "BreakTime"
custom_data_layer_1/type = 2
sources/0 = SubResource("TileSetAtlasSource_lbhrr")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_yqjtg"]

[sub_resource type="LabelSettings" id="LabelSettings_7r4gi"]
font = ExtResource("5_i7141")

[sub_resource type="LabelSettings" id="LabelSettings_w7kh3"]
font = ExtResource("5_i7141")

[node name="World" type="Node2D"]
script = ExtResource("1_71j4m")

[node name="ExportPopup" type="FileDialog" parent="."]
access = 2
root_subfolder = "/"
filters = PackedStringArray("*.mtworld")
use_native_dialog = true

[node name="ImportPopup" type="FileDialog" parent="."]
title = "Open a File"
ok_button_text = "Open"
file_mode = 0
access = 2
root_subfolder = "/"
filters = PackedStringArray("*.mtworld")
use_native_dialog = true

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD4//v/AAAAAAAAAAD4//z/AAABAAAAAAD4//3/AAACAAAAAAD4//7/AAACAAAAAAD4////AAAFAAAAAAD5//v/AAAAAAAAAAD5//z/AAABAAAAAAD5//3/AAACAAAAAAD5//7/AAACAAAAAAD5////AAAFAAAAAAD6//v/AAAAAAAAAAD6//z/AAABAAAAAAD6//3/AAACAAAAAAD6//7/AAACAAAAAAD6////AAAFAAAAAAD7//v/AAAAAAAAAAD7//z/AAABAAAAAAD7//3/AAACAAAAAAD7//7/AAACAAAAAAD7////AAAFAAAAAAD8//v/AAAAAAAAAAD8//z/AAABAAAAAAD8//3/AAACAAAAAAD8//7/AAACAAAAAAD8////AAAFAAAAAAD9//v/AAAAAAAAAAD9//z/AAABAAAAAAD9//3/AAACAAAAAAD9//7/AAACAAAAAAD9////AAAFAAAAAAD+//v/AAAAAAAAAAD+//z/AAABAAAAAAD+//3/AAACAAAAAAD+//7/AAACAAAAAAD+////AAAFAAAAAAD///v/AAAAAAAAAAD///z/AAABAAAAAAD///3/AAACAAAAAAD///7/AAACAAAAAAD/////AAAFAAAAAAAAAPv/AAAAAAAAAAAAAPz/AAABAAAAAAAAAP3/AAACAAAAAAAAAP7/AAACAAAAAAAAAP//AAAFAAAAAAABAPv/AAAAAAAAAAABAPz/AAABAAAAAAABAP3/AAACAAAAAAABAP7/AAACAAAAAAABAP//AAAFAAAAAAACAPv/AAAAAAAAAAACAPz/AAABAAAAAAACAP3/AAACAAAAAAACAP7/AAACAAAAAAACAP//AAAFAAAAAAADAPv/AAAAAAAAAAADAPz/AAABAAAAAAADAP3/AAACAAAAAAADAP7/AAACAAAAAAADAP//AAAFAAAAAAAEAPv/AAAAAAAAAAAEAPz/AAABAAAAAAAEAP3/AAACAAAAAAAEAP7/AAACAAAAAAAEAP//AAAFAAAAAAAFAPv/AAAAAAAAAAAFAPz/AAABAAAAAAAFAP3/AAACAAAAAAAFAP7/AAACAAAAAAAFAP//AAAFAAAAAAAGAPv/AAAAAAAAAAAGAPz/AAABAAAAAAAGAP3/AAACAAAAAAAGAP7/AAACAAAAAAAGAP//AAAFAAAAAAAHAPv/AAAAAAAAAAAHAPz/AAABAAAAAAAHAP3/AAACAAAAAAAHAP7/AAACAAAAAAAHAP//AAAFAAAAAAD6//P/AAAEAAAAAAD5//P/AAAEAAAAAAD4//P/AAAEAAAAAAD3//P/AAAEAAAAAAD5//L/AAAEAAAAAAD7//P/AAAEAAAAAAD7//T/AAAEAAAAAAD6//T/AAAEAAAAAAD5//T/AAAEAAAAAAD8//T/AAAEAAAAAAD9//T/AAAEAAAAAAD8//X/AAAEAAAAAAD7//X/AAAEAAAAAAD4//X/AAAEAAAAAAD8//L/AAAEAAAAAAAAAPH/AAAEAAAAAAABAPH/AAAEAAAAAAABAPP/AAAEAAAAAAACAPD/AAAEAAAAAAACAPH/AAAEAAAAAAACAPL/AAAEAAAAAAADAPH/AAAEAAAAAAADAPL/AAAEAAAAAAAEAPH/AAAEAAAAAAAEAPL/AAAEAAAAAAAEAPP/AAAEAAAAAAAFAPD/AAAEAAAAAAAFAPL/AAAEAAAAAAAFAPP/AAAEAAAAAAAGAPL/AAAEAAAAAAAJAPT/AAAEAAAAAAAKAPT/AAAEAAAAAAAKAPb/AAAEAAAAAAALAPP/AAAEAAAAAAALAPT/AAAEAAAAAAALAPX/AAAEAAAAAAAMAPT/AAAEAAAAAAAMAPX/AAAEAAAAAAANAPT/AAAEAAAAAAANAPX/AAAEAAAAAAANAPb/AAAEAAAAAAAOAPP/AAAEAAAAAAAOAPX/AAAEAAAAAAAOAPb/AAAEAAAAAAAPAPX/AAAEAAAAAAD4/+v/AAAEAAAAAAD5/+v/AAAEAAAAAAD5/+3/AAAEAAAAAAD6/+r/AAAEAAAAAAD6/+v/AAAEAAAAAAD6/+z/AAAEAAAAAAD7/+v/AAAEAAAAAAD7/+z/AAAEAAAAAAD8/+v/AAAEAAAAAAD8/+z/AAAEAAAAAAD8/+3/AAAEAAAAAAD9/+r/AAAEAAAAAAD9/+z/AAAEAAAAAAD9/+3/AAAEAAAAAAD+/+z/AAAEAAAAAAAHAOj/AAAEAAAAAAAIAOj/AAAEAAAAAAAIAOr/AAAEAAAAAAAJAOf/AAAEAAAAAAAJAOj/AAAEAAAAAAAJAOn/AAAEAAAAAAAKAOj/AAAEAAAAAAAKAOn/AAAEAAAAAAALAOj/AAAEAAAAAAALAOn/AAAEAAAAAAALAOr/AAAEAAAAAAAMAOf/AAAEAAAAAAAMAOn/AAAEAAAAAAAMAOr/AAAEAAAAAAANAOn/AAAEAAAAAAD8/+H/AAAEAAAAAAD9/+H/AAAEAAAAAAD9/+P/AAAEAAAAAAD+/+D/AAAEAAAAAAD+/+H/AAAEAAAAAAD+/+L/AAAEAAAAAAD//+H/AAAEAAAAAAD//+L/AAAEAAAAAAAAAOH/AAAEAAAAAAAAAOL/AAAEAAAAAAAAAOP/AAAEAAAAAAABAOD/AAAEAAAAAAABAOL/AAAEAAAAAAABAOP/AAAEAAAAAAACAOL/AAAEAAAAAAAHANz/AAAEAAAAAAAIANz/AAAEAAAAAAAIAN7/AAAEAAAAAAAJANv/AAAEAAAAAAAJANz/AAAEAAAAAAAJAN3/AAAEAAAAAAAKANz/AAAEAAAAAAAKAN3/AAAEAAAAAAALANz/AAAEAAAAAAALAN3/AAAEAAAAAAALAN7/AAAEAAAAAAAMANv/AAAEAAAAAAAMAN3/AAAEAAAAAAAMAN7/AAAEAAAAAAANAN3/AAAEAAAAAAD2/9r/AAAEAAAAAAD3/9r/AAAEAAAAAAD3/9z/AAAEAAAAAAD4/9n/AAAEAAAAAAD4/9r/AAAEAAAAAAD4/9v/AAAEAAAAAAD5/9r/AAAEAAAAAAD5/9v/AAAEAAAAAAD6/9r/AAAEAAAAAAD6/9v/AAAEAAAAAAD6/9z/AAAEAAAAAAD7/9n/AAAEAAAAAAD7/9v/AAAEAAAAAAD7/9z/AAAEAAAAAAD8/9v/AAAEAAAAAAABANH/AAAEAAAAAAACANH/AAAEAAAAAAACANP/AAAEAAAAAAADAND/AAAGAAAAAAADANH/AAAGAAAAAAADANL/AAAEAAAAAAAEANH/AAAEAAAAAAAEANL/AAAEAAAAAAAFANH/AAAGAAAAAAAFANL/AAAEAAAAAAAFANP/AAAEAAAAAAAGAND/AAAGAAAAAAAGANL/AAAEAAAAAAAGANP/AAAEAAAAAAAHANL/AAAGAAAAAAD3/8v/AAAGAAAAAAD4/8v/AAAGAAAAAAD4/83/AAAEAAAAAAD5/8r/AAAGAAAAAAD5/8v/AAAGAAAAAAD5/8z/AAAGAAAAAAD6/8v/AAAEAAAAAAD6/8z/AAAGAAAAAAD7/8v/AAAGAAAAAAD7/8z/AAAGAAAAAAD7/83/AAAEAAAAAAD8/8r/AAAGAAAAAAD8/8z/AAAGAAAAAAD8/83/AAAGAAAAAAD9/8z/AAAGAAAAAAAGAMH/AAAGAAAAAAAHAMH/AAAGAAAAAAAHAMP/AAAGAAAAAAAIAMD/AAAGAAAAAAAIAMH/AAAGAAAAAAAIAML/AAAGAAAAAAAJAMH/AAAGAAAAAAAJAML/AAAGAAAAAAAKAMH/AAAGAAAAAAAKAML/AAAGAAAAAAAKAMP/AAAGAAAAAAALAMD/AAAGAAAAAAALAML/AAAGAAAAAAALAMP/AAAGAAAAAAAMAML/AAAGAAAAAAD0/7z/AAAGAAAAAAD1/7z/AAAGAAAAAAD1/77/AAAGAAAAAAD2/7v/AAAGAAAAAAD2/7z/AAAGAAAAAAD2/73/AAAGAAAAAAD3/7z/AAAGAAAAAAD3/73/AAAGAAAAAAD4/7z/AAAGAAAAAAD4/73/AAAGAAAAAAD4/77/AAAGAAAAAAD5/7v/AAAGAAAAAAD5/73/AAAGAAAAAAD5/77/AAAGAAAAAAD6/73/AAAGAAAAAAD+/7D/AAAGAAAAAAD//7D/AAAGAAAAAAD//7L/AAAGAAAAAAAAAK//AAAGAAAAAAAAALD/AAAGAAAAAAAAALH/AAAGAAAAAAABALD/AAAGAAAAAAABALH/AAAGAAAAAAACALD/AAAGAAAAAAACALH/AAAGAAAAAAACALL/AAAGAAAAAAADAK//AAAGAAAAAAADALH/AAAGAAAAAAADALL/AAAGAAAAAAAEALH/AAAGAAAAAAAAAK7/AAAHAAAAAAA=")
tile_set = SubResource("TileSet_lbhrr")

[node name="Player" parent="." instance=ExtResource("3_71j4m")]
position = Vector2(0, -88)

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(3.5, 3.5)
limit_bottom = 0
position_smoothing_enabled = true

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
shape = SubResource("WorldBoundaryShape2D_yqjtg")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer"]
offset_left = 12.0
offset_top = 14.0
offset_right = 181.0
offset_bottom = 45.0

[node name="Grass" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
action_mode = 0
text = "Grass"

[node name="Dirt" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Dirt"

[node name="Cobble" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Cobble"

[node name="Sand" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Sand"

[node name="Ice" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Ice/Cloud"

[node name="Barrier" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Barrier"

[node name="Flight" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Toggle Flight"

[node name="Instabreak" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Instabreak"

[node name="Export" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Export"

[node name="Import" type="Button" parent="CanvasLayer/HBoxContainer"]
layout_mode = 2
theme = ExtResource("5_4mrxx")
text = "Import World"

[node name="Info" type="Label" parent="CanvasLayer"]
offset_left = 710.0
offset_top = 614.0
offset_right = 1141.0
offset_bottom = 637.0
text = "BUILD 1.9.25"
label_settings = SubResource("LabelSettings_7r4gi")
horizontal_alignment = 2

[node name="BreakTime" type="Label" parent="CanvasLayer"]
offset_left = 12.0
offset_top = 51.0
offset_right = 310.0
offset_bottom = 74.0
text = "(break timer)"
label_settings = SubResource("LabelSettings_w7kh3")

[node name="BlockSelection" parent="." node_paths=PackedStringArray("tilemap") instance=ExtResource("5_71j4m")]
tilemap = NodePath("../TileMapLayer")
safe_area = Vector4(4.3, 3.59, 4.99, 1.16)

[node name="AmbianceMusic" type="AudioStreamPlayer" parent="."]

[connection signal="file_selected" from="ExportPopup" to="Player" method="_on_export_popup_file_selected"]
[connection signal="file_selected" from="ImportPopup" to="Player" method="_on_import_popup_file_selected"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Grass" to="Player" method="_on_grass_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Dirt" to="Player" method="_on_dirt_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Cobble" to="Player" method="_on_cobble_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Sand" to="Player" method="_on_sand_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Ice" to="Player" method="_on_ice_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Barrier" to="Player" method="_on_barrier_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Flight" to="Player" method="_on_flight_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Instabreak" to="Player" method="_on_instabreak_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Export" to="Player" method="_on_export_pressed"]
[connection signal="pressed" from="CanvasLayer/HBoxContainer/Import" to="Player" method="_on_import_pressed"]
